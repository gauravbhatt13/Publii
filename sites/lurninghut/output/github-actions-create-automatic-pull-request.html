<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Github Actions - Create Automatic Pull Request - lurninghut</title><meta name="description" content="While working with automatic workflows using Github actions, there can be scenarios where some changes are to be done in the repository during the execution of the build steps. A very common example is updating information of the user to a file 'Author' in the&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://lurninghut.com/github-actions-create-automatic-pull-request.html"><link rel="amphtml" href="https://lurninghut.com/amp/github-actions-create-automatic-pull-request.html"><link rel="alternate" type="application/atom+xml" href="https://lurninghut.com/feed.xml"><link rel="alternate" type="application/json" href="https://lurninghut.com/feed.json"><meta property="og:title" content="Github Actions - Create Automatic Pull Request"><meta property="og:site_name" content="lurninghut"><meta property="og:description" content="While working with automatic workflows using Github actions, there can be scenarios where some changes are to be done in the repository during the execution of the build steps. A very common example is updating information of the user to a file 'Author' in the&hellip;"><meta property="og:url" content="https://lurninghut.com/github-actions-create-automatic-pull-request.html"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://lurninghut.com/assets/css/style.css?v=38656b64ea4fdbda631e7059ddbb6972"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://lurninghut.com/github-actions-create-automatic-pull-request.html"},"headline":"Github Actions - Create Automatic Pull Request","datePublished":"2021-10-02T13:56","dateModified":"2021-10-02T15:43","description":"While working with automatic workflows using Github actions, there can be scenarios where some changes are to be done in the repository during the execution of the build steps. A very common example is updating information of the user to a file 'Author' in the&hellip;","author":{"@type":"Person","name":"Gaurav Bhatt"},"publisher":{"@type":"Organization","name":"Gaurav Bhatt"}}</script><script>(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2634784,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q4E1CEG1ZW"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q4E1CEG1ZW');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9BBBNE2CKT"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9BBBNE2CKT');</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://lurninghut.com/">lurninghut</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://lurninghut.com/tags/java/" title="Test Attribute" target="_self">Java</a></li><li><a href="https://lurninghut.com/tags/aws/" target="_self">AWS</a></li><li><a href="https://lurninghut.com/tags/unix/" target="_self">Unix</a></li><li><a href="https://lurninghut.com/tags/networking/" target="_self">Networking</a></li><li><a href="https://lurninghut.com/tags/git/" target="_self">GIT</a></li><li><a href="https://lurninghut.com/tags/security/" target="_self">Security</a></li><li><a href="https://lurninghut.com/tags/kafka/" target="_self">Kafka</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://lurninghut.com/media/website/front.png" srcset="https://lurninghut.com/media/website/responsive/front-xs.png 300w, https://lurninghut.com/media/website/responsive/front-sm.png 480w, https://lurninghut.com/media/website/responsive/front-md.png 768w, https://lurninghut.com/media/website/responsive/front-lg.png 1024w, https://lurninghut.com/media/website/responsive/front-xl.png 1360w, https://lurninghut.com/media/website/responsive/front-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2021-10-02T13:56">October 2, 2021</time></div><h1>Github Actions - Create Automatic Pull Request</h1><div class="post__meta post__meta--author"><a href="https://lurninghut.com/authors/technobot/" class="feed__author invert">Gaurav Bhatt</a></div></div></header></div><div class="wrapper post__entry"><p>While working with automatic workflows using Github actions, there can be scenarios where some changes are to be done in the repository during the execution of the build steps. A very common example is updating information of the user to a file 'Author' in the code base every time a commit is pushed. In this demo we will also try to create a PR automatically by creating a branch which will have one single commit to a file called 'Author' with the information of the user who pushed the recent commit to main branch.</p><h4>Demo</h4><figure class="post__video"><iframe loading="lazy" width="560" height="314" src="https://www.youtube.com/embed/NfsrMix5Qvc" allowfullscreen="allowfullscreen" data-mce-fragment="1"></iframe></figure><p>We will proceed incrementally with the configuration file changes. Let's create a new workflow file under .github/workflows</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.11.47-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.11.47-PM-2xl.png 1600w" alt="" width="1198" height="904"></figure><p>Add name and an event which we care for during our workflow:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.13.50-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.13.50-PM-2xl.png 1600w" alt="" width="568" height="270"></figure><h6>actions/checkout@v2</h6><p>Add first step as part of the jobs where we will checkout the code from main branch:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.15.28-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.15.28-PM-2xl.png 1600w" alt="" width="510" height="436"></figure><h6>rlespinasse/git-commit-data-action@v1.x</h6><p>Then we will add another action step which will export details of the recent commit as environment variables like GIT_COMMIT_AUTHOR_NAME.</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.17.17-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.17.17-PM-2xl.png 1600w" alt="" width="712" height="536"></figure><p>Then we will add details extracted from previous step to Author file in the repository:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.24.09-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.24.09-PM-2xl.png 1600w" alt="" width="834" height="624"></figure><h6>peter-evans/create-pull-request@v3</h6><p>And as part of final step we will use action which will create a new branch, commit the change added in the previous step to the Author file and create the pull request. The 'delete-branch' config will ensure that the branch will be deleted after pull request is closed.</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.21.59-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.21.59-PM-2xl.png 1600w" alt="" width="1226" height="1046"></figure><p>When we finish with this workflow file, we will commit it to the repo and push the commit to Github main branch. The push will trigger the workflow in Github as follows:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.29.01-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.01-PM-2xl.png 1600w" alt="" width="1168" height="846"></figure><p>And once the workflow is finished we can navigate to the pull request tab to see the created pull request:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/20/Screenshot-2021-10-02-at-2.29.51-PM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-xs.png 300w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-sm.png 480w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-md.png 768w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-lg.png 1024w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-xl.png 1360w, https://lurninghut.com/media/posts/20/responsive/Screenshot-2021-10-02-at-2.29.51-PM-2xl.png 1600w" alt="" width="1152" height="690"></figure><p>The complete workflow file is as follows:</p><pre>name: Demo to create automatic PR<br><br>on:<br>  push:<br>    branches:<br>      - main<br><br>jobs:<br>  updateAuthor:<br>    runs-on: ubuntu-latest<br>    steps:<br>      - name: checking out code<br>        uses: actions/checkout@v2<br><br>      - name: extract git commit data<br>        uses: rlespinasse/git-commit-data-action@v1.x<br><br>      - name: Update author information<br>        run: echo ${{ env.GIT_COMMIT_AUTHOR_NAME }} &gt; AUTHOR<br><br>      - name: Raise PR<br>        uses: peter-evans/create-pull-request@v3<br>        with:<br>          branch: "auto-pr-branch"<br>          base: main<br>          title: "demo for auto pr"<br>          committer: ${{ env.GIT_COMMIT_AUTHOR_NAME }} &lt;${{ env.GIT_COMMIT_AUTHOR_EMAIL }}"&gt;<br>          author: ${{ env.GIT_COMMIT_AUTHOR_NAME }} &lt;${{ env.GIT_COMMIT_AUTHOR_EMAIL }}"&gt;<br>          body:<br>            This is to show automatic PR creation<br>          token: ${{ secrets.GITHUB_TOKEN }}<br>          delete-branch: true<br><br><br><br></pre><p>So we saw how easy it is to create an automatic pull request using appropriate Github actions.</p><p> </p><p> </p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 2, 2021</p><ul class="post__tag"><li><a href="https://lurninghut.com/tags/git/">GIT</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://lurninghut.com/vscode-java-demo.html" class="invert post__nav-link" rel="prev"><span>Previous</span> VSCODE Java demo</a></div><div class="post__nav-next"><a href="https://lurninghut.com/kafka-fundamentals-motivation-for-kafka.html" class="invert post__nav-link" rel="next"><span>Next</span> Motivation for Kafka </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2022-01-31T11:05" class="feed__date">January 31, 2022</time></div><h3 class="h1"><a href="https://lurninghut.com/create-jar-from-proto-files.html" class="invert">Create jar from Proto files</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2021-10-02T02:54" class="feed__date">October 2, 2021</time></div><h3 class="h1"><a href="https://lurninghut.com/github-actions-building-spring-boot-application.html" class="invert"> Github Actions: Building Spring boot application</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>Contact - lurninghut@gmail.com</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://lurninghut.com/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>