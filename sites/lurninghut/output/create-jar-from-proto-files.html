<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Create jar from Proto files - lurninghut</title><meta name="description" content="Protobuf is one of the formats used by programs to communicate with each other over a network. It is Google's IDL (Interface definition language) to describe the structure of any data which then can be used to generate source code to parse a stream of&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://lurninghut.com/create-jar-from-proto-files.html"><link rel="amphtml" href="https://lurninghut.com/amp/create-jar-from-proto-files.html"><link rel="alternate" type="application/atom+xml" href="https://lurninghut.com/feed.xml"><link rel="alternate" type="application/json" href="https://lurninghut.com/feed.json"><meta property="og:title" content="Create jar from Proto files"><meta property="og:site_name" content="lurninghut"><meta property="og:description" content="Protobuf is one of the formats used by programs to communicate with each other over a network. It is Google's IDL (Interface definition language) to describe the structure of any data which then can be used to generate source code to parse a stream of&hellip;"><meta property="og:url" content="https://lurninghut.com/create-jar-from-proto-files.html"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://lurninghut.com/assets/css/style.css?v=38656b64ea4fdbda631e7059ddbb6972"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://lurninghut.com/create-jar-from-proto-files.html"},"headline":"Create jar from Proto files","datePublished":"2022-01-31T11:05","dateModified":"2022-01-31T12:57","description":"Protobuf is one of the formats used by programs to communicate with each other over a network. It is Google's IDL (Interface definition language) to describe the structure of any data which then can be used to generate source code to parse a stream of&hellip;","author":{"@type":"Person","name":"Gaurav Bhatt"},"publisher":{"@type":"Organization","name":"Gaurav Bhatt"}}</script><script>(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2634784,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q4E1CEG1ZW"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q4E1CEG1ZW');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9BBBNE2CKT"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9BBBNE2CKT');</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://lurninghut.com/">lurninghut</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://lurninghut.com/tags/java/" title="Test Attribute" target="_self">Java</a></li><li><a href="https://lurninghut.com/tags/aws/" target="_self">AWS</a></li><li><a href="https://lurninghut.com/tags/unix/" target="_self">Unix</a></li><li><a href="https://lurninghut.com/tags/networking/" target="_self">Networking</a></li><li><a href="https://lurninghut.com/tags/git/" target="_self">GIT</a></li><li><a href="https://lurninghut.com/tags/security/" target="_self">Security</a></li><li><a href="https://lurninghut.com/tags/kafka/" target="_self">Kafka</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://lurninghut.com/media/website/front.png" srcset="https://lurninghut.com/media/website/responsive/front-xs.png 300w, https://lurninghut.com/media/website/responsive/front-sm.png 480w, https://lurninghut.com/media/website/responsive/front-md.png 768w, https://lurninghut.com/media/website/responsive/front-lg.png 1024w, https://lurninghut.com/media/website/responsive/front-xl.png 1360w, https://lurninghut.com/media/website/responsive/front-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2022-01-31T11:05">January 31, 2022</time></div><h1>Create jar from Proto files</h1><div class="post__meta post__meta--author"><a href="https://lurninghut.com/authors/technobot/" class="feed__author invert">Gaurav Bhatt</a></div></div></header></div><div class="wrapper post__entry"><p>Protobuf is one of the formats used by programs to communicate with each other over a network. It is Google's IDL (Interface definition language) to describe the structure of any data which then can be used to generate source code to parse a stream of bytes that represent that structured data.</p><h3>Demo</h3><p>Following is a demo of how to create a jar file out of proto files.</p><figure class="post__video"><iframe loading="lazy" width="560" height="314" src="https://www.youtube.com/embed/Hsd-yznn1ms" allowfullscreen="allowfullscreen" data-mce-fragment="1"></iframe></figure><p>In this blog we will use a gradle plugin to generate Java class files from a .proto file.</p><p>Create a sample gradle project in intellij:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/22/Screenshot-2022-01-31-at-11.19.30-AM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-xs.png 300w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-sm.png 480w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-md.png 768w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-lg.png 1024w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-xl.png 1360w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.19.30-AM-2xl.png 1600w" alt="" width="1942" height="740"></figure><p>Add following 'buildscript' config in the gradle:</p><pre><code>buildscript {</code><br><code>    repositories {</code><br><code>        mavenCentral()</code><br><code>    }</code><br><code>    dependencies {</code><br><code>        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.12'</code><br><code>    }</code><br><code>}</code></pre><p>Add 'apply plugin':</p><pre>apply plugin: 'com.google.protobuf'</pre><p>Following are the tasks that will be added to the gradle tasks list:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/22/Screenshot-2022-01-31-at-11.25.01-AM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-xs.png 300w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-sm.png 480w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-md.png 768w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-lg.png 1024w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-xl.png 1360w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.25.01-AM-2xl.png 1600w" alt="" width="978" height="962"></figure><p> </p><p>Below is an example of a sample cart.proto file added under 'proto' folder inside 'main' directory. Note that 'java_package' and 'java_multiple_files' are attributes to provide guidance to the protobuf compiler while generating class files.</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/22/Screenshot-2022-01-31-at-11.35.33-AM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-xs.png 300w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-sm.png 480w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-md.png 768w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-lg.png 1024w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-xl.png 1360w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.35.33-AM-2xl.png 1600w" alt="" width="1660" height="588"></figure><p> </p><p>Now when we run the generateProto task as shown below, we can see it has generated the corresponding Java files which will be present under the 'generated' folder inside build directory.</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/22/Screenshot-2022-01-31-at-11.39.09-AM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-xs.png 300w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-sm.png 480w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-md.png 768w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-lg.png 1024w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-xl.png 1360w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.39.09-AM-2xl.png 1600w" alt="" width="2822" height="958"></figure><p>Add following dependency in the project:</p><pre>dependencies {<br>    implementation 'com.google.protobuf:protobuf-java:3.11.4'<br>}</pre><p>Once added, run the 'jar' task in gradle and check the build/libs directory. The jar task will generate the jar with compiled class files:</p><figure class="post__image"><img loading="lazy" src="https://lurninghut.com/media/posts/22/Screenshot-2022-01-31-at-11.46.36-AM.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-xs.png 300w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-sm.png 480w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-md.png 768w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-lg.png 1024w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-xl.png 1360w, https://lurninghut.com/media/posts/22/responsive/Screenshot-2022-01-31-at-11.46.36-AM-2xl.png 1600w" alt="" width="1028" height="598"></figure><p> </p><p>The generated jar can be used by any java application to read or create the corresponding proto message in JVM.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on January 31, 2022</p><ul class="post__tag"><li><a href="https://lurninghut.com/tags/java/">JAVA</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://lurninghut.com/kafka-fundamentals-motivation-for-kafka.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Motivation for Kafka</a></div><div class="post__nav-next"><a href="https://lurninghut.com/ansible-and-aws.html" class="invert post__nav-link" rel="next"><span>Next</span> Ansible and AWS </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2021-10-02T13:56" class="feed__date">October 2, 2021</time></div><h3 class="h1"><a href="https://lurninghut.com/github-actions-create-automatic-pull-request.html" class="invert">Github Actions - Create Automatic Pull Request</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>Contact - lurninghut@gmail.com</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://lurninghut.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://lurninghut.com/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>